<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11N Score Sheet</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <style>
        
    </style>
</head>
<body>
    <div id="modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:#fff; border:1px solid #ccc; padding:20px; z-index:1000;">
        <p id="modal-message"></p>
        <button onclick="closeModal()"></button>
    </div>
    <div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:999;"></div>
<h1>11N Scores</h1>
<table>
    <thead>
        <tr>
            <th>NAME</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
            <th>8</th>
            <th>9</th>
            <th>10</th>
            <th>11</th>
            <th>12</th>
            <th>13</th>
            <th>14</th>
            <th>15</th>
            <th>16</th>
            <th>17</th>
            <th>18</th>
            <th>19</th>
            <th>B1</th>
            <th>B2</th>
            <th>B3</th>
            <th>B4</th>
            <th>B5</th>
            <th>B6</th>
            <th>B7</th>
            <th>B8</th>
            <th>Total Points</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><input type="text" class="player-name" placeholder="Player 1"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 1)"></td>
            <td class="total" id="total-1">0</td>
        </tr>
        <tr>
            <td><input type="text"  class="player-name"placeholder="Player 2"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 2)"></td>
            <td class="total" id="total-2">0</td>
        </tr>
        <tr>
            <td><input type="text"  class="player-name"placeholder="Player 3"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 3)"></td>
            <td class="total" id="total-3">0</td>
        </tr>
        <tr>
            <td><input type="text"  class="player-name"placeholder="Player 4"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 4)"></td>
            <td class="total" id="total-4">0</td>
        </tr>
        <tr>
            <td><input type="text"  class="player-name"placeholder="Player 5"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 200, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 100, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 300, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 400, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 700, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td><input type="checkbox" onclick="calculateTotal(this, 500, 5)"></td>
            <td class="total" id="total-5">0</td>
        </tr>
    </tbody>
</table>
<hr>
<section>
<h2>Points per CP</h2>
    <div class="container">
        <div class="column">
            <div class="cp-item">CP 1 = 100 points</div>
            <div class="cp-item">CP 2 = 200 points</div>
            <div class="cp-item">CP 3 = 100 points</div>
            <div class="cp-item">CP 4 = 400 points</div>
            <div class="cp-item">CP 5 = 100 points</div>
            <div class="cp-item">CP 6 = 200 points</div>
            <div class="cp-item">CP 7 = 200 points</div>
            <div class="cp-item">CP 8 = 300 points</div>
            <div class="cp-item">CP 9 = 200 points</div>
            <div class="cp-item">CP 10 = 400 points</div>
        </div>
        <div class="column">
            <div class="cp-item">CP 11 = 700 points</div>
            <div class="cp-item">CP 12 = 400 points</div>
            <div class="cp-item">CP 13 = 200 points</div>
            <div class="cp-item">CP 14 = 500 points</div>
            <div class="cp-item">CP 15 = 400 points</div>
            <div class="cp-item">CP 16 = 200 points</div>
            <div class="cp-item">CP 17 = 100 points</div>
            <div class="cp-item">CP 18 = 300 points</div>
            <div class="cp-item">CP 19 = 400 points</div>
        </div>
        <div class="column">
            <div class="cp-item">B1 = 300 points</div>
            <div class="cp-item">B2 = 500 points</div>
            <div class="cp-item">B3 = 500 points</div>
            <div class="cp-item">B4 = 400 points</div>
            <div class="cp-item">B5 = 500 points</div>
            <div class="cp-item">B6 = 700 points</div>
            <div class="cp-item">B7 = 500 points</div>
            <div class="cp-item">B8 = 500 points</div>
        </div>
        <div class="column">
        <button id="saveBtn" onclick="saveScores()">Save Scores</button>
        </div>
    </div>
</section>

<script>
    function calculateTotal(checkbox, points, player) {
        const totalCell = document.getElementById(`total-${player}`);
        let currentTotal = parseInt(totalCell.innerText);

        if (checkbox.checked) {
            currentTotal += points;
        } else {
            currentTotal -= points;
        }

        totalCell.innerText = currentTotal;
    }
    
    function saveScores() {
    const confirmSave = confirm("Do you want to save the scores?");

    if (confirmSave) {
        const players = [];
        const rows = document.querySelectorAll('tbody tr');

        rows.forEach(row => {
            const playerName = row.querySelector('.player-name').value;
            const totalPoints = row.querySelector('.total').innerText;
            const checkboxes = row.querySelectorAll('input[type="checkbox"]');
            const checkedCPs = Array.from(checkboxes).map(cb => cb.checked);

            players.push({
                name: playerName,
                total: totalPoints,
                checks: checkedCPs
            });
        });

        localStorage.setItem('orienteeringScores', JSON.stringify(players));
        showModal('Save Successful!');
    } else {
        showModal('Save Canceled!');
    }
}

function loadScores() {
    const players = JSON.parse(localStorage.getItem('orienteeringScores'));
    
    if (players) {
        const rows = document.querySelectorAll('tbody tr');

        rows.forEach((row, index) => {
            const player = players[index];
            if (player) {
                row.querySelector('.player-name').value = player.name;
                const totalCell = row.querySelector('.total');

                // Reset to 0 then recalculate
                let totalPoints = 0;

                const checkboxes = row.querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach((checkbox, cbIndex) => {
                    checkbox.checked = player.checks[cbIndex];
                    if (checkbox.checked) {
                        const pointsArray = [100, 200, 100, 400, 100, 200, 200, 300, 200, 400, 700, 400, 200, 500, 400, 200, 100, 300, 400];
                        totalPoints += pointsArray[cbIndex]; // Add corresponding points
                    }
                });

                totalCell.innerText = totalPoints;
            }
        });
        
        showModal('Scores loaded!');
    } else {
        showModal('No saved scores found.'); 
    }
}

function showModal(message) {
    document.getElementById('modal-message').innerText = message; 
    document.getElementById('modal').style.display = 'block';
    document.getElementById('overlay').style.display = 'block';


    setTimeout(closeModal, 900);
}

function closeModal() {
    document.getElementById('modal').style.display = 'none';
    document.getElementById('overlay').style.display = 'none';
}
document.addEventListener('DOMContentLoaded', loadScores);
    </script>

</body>
</html>
